@model OnlineMovieTicket.BL.DTOs.Movie.MovieDTO
@{
    ViewData["Title"] = "Add Movie";
}
<h1 class="h3 mb-0 text-gray-800 mb-3">Add Movie</h1>

<form id="addMovieForm" enctype="multipart/form-data">
    @Html.AntiForgeryToken()
    <div class="card shadow mb-4">
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mb-3">
                        <label asp-for="@Model.Title">Title <span class="text-danger">*</span></label>
                        <input asp-for="@Model.Title" class="form-control" />
                        <span asp-validation-for="@Model.Title" class="text-danger small"></span>
                    </div>
                    <div class="form-group mb-3">
                        <label asp-for="@Model.Duration">Duration <span class="text-danger">*</span></label>
                        <input asp-for="@Model.Duration" type="number" class="form-control" min="1" />
                        <span asp-validation-for="@Model.Duration" class="text-danger small"></span>
                    </div>
                    <div class="form-group mb-3">
                        <label asp-for="@Model.Price">Price <span class="text-danger">*</span></label>
                        <input asp-for="@Model.Price" type="number" class="form-control" min="1" />
                        <span asp-validation-for="@Model.Price" class="text-danger small"></span>
                    </div>
                    <div class="form-group mb-3">
                        <label asp-for="@Model.ReleaseDate">Release Date</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <i class="fas fa-calendar-alt"></i>
                                </span>
                            </div>
                            <input type="date" asp-for="@Model.ReleaseDate" class="form-control">
                        </div>
                        <span asp-validation-for="@Model.ReleaseDate" class="text-danger small"></span>
                    </div>
                    <div class="form-group mb-3">
                        <label asp-for="@Model.Author">Author</label>
                        <input asp-for="@Model.Author" class="form-control" />
                        <span asp-validation-for="@Model.Author" class="text-danger small"></span>
                    </div>
                    <div class="form-group mb-3">
                        <label asp-for="@Model.Actor">Actor</label>
                        <input asp-for="@Model.Actor" class="form-control" />
                        <span asp-validation-for="@Model.Actor" class="text-danger small"></span>
                    </div>
                    <div class="form-group mb-3">
                        <label asp-for="@Model.Genre">Genre</label>
                        <input asp-for="@Model.Genre" class="form-control" />
                        <span asp-validation-for="@Model.Genre" class="text-danger small"></span>
                    </div>
                    <div class="form-group mb-3">
                        <label asp-for="@Model.Description">Description</label>
                        <textarea asp-for="@Model.Description" class="form-control" rows="4"></textarea>
                        <span asp-validation-for="Description" class="text-danger small"></span>
                    </div>
                </div>

                <div class="col-md-6 scrollable-right-column">
                    <div class="form-group mb-3">
                        <label asp-for="@Model.PosterFile">Poster <span class="text-danger">*</span></label>
                        <input asp-for="@Model.PosterFile" type="file" class="form-control-file" onchange="previewImage(event, 'posterPreview', 'posterMessage')"/>
                        <span asp-validation-for="@Model.PosterFile" id="posterMessage" class="text-danger small"></span>
                    </div>
                    <div class="form-group d-flex justify-content-center mb-3">
                        <img id="posterPreview" class="preview-poster" src="#" alt="Image Preview"/>
                    </div>
                    <div class="form-group mb-3">
                        <label asp-for="@Model.BannerFile">Banner <span class="text-danger">*</span></label>
                        <input asp-for="@Model.BannerFile" type="file" class="form-control-file" onchange="previewImage(event, 'bannerPreview', 'bannerMessage')"/>
                        <span asp-validation-for="@Model.BannerFile" id="bannerMessage" class="text-danger small"></span>
                    </div>
                    <div class="form-group d-flex justify-content-center mb-3">
                        <img id="bannerPreview" class="preview-banner" src="#" alt="Image Preview"/>
                    </div>
                    <div class="form-group mb-3">
                        <label asp-for="@Model.TrailerURL">Trailer URL <span class="text-danger">*</span></label>
                        <input asp-for="@Model.TrailerURL" class="form-control" id="trailerInput" oninput="previewTrailer()" />
                        <span asp-validation-for="@Model.TrailerURL" class="text-danger small"></span>
                    </div>
                    <div class="form-group mb-3 trailer-preview-container" id="trailerPreviewContainer">
                        <div class="embed-responsive embed-responsive-16by9">
                            <iframe id="trailerPreview" class="embed-responsive-item trailer-preview-sm" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-end">
                <button type="submit" class="btn btn-primary mt-2">Save Movie</button>
            </div>
        </div>
    </div>
</form>

@section Scripts {
    <script>    
        const urlCreateMovie = '@Url.Action("Create", "Movie", new { area = "Admin" })';
        const urlIndex = '@Url.Action("Index", "Movie", new { area = "Admin" })';
    </script>
    <script src="~/Admin/js/CreateMovie.js" asp-append-version="true"></script>
}